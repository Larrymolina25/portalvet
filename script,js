let mascotas = [];

function registrarMascota() {
    const nombre = document.getElementById("nombreMascota").value;
    const raza = document.getElementById("raza").value;
    const edad = document.getElementById("edad").value;
    const color = document.getElementById("color").value;

    const mascota = { nombre, raza, edad, color };
    mascotas.push(mascota);

    mostrarPrevisualizacion(mascota);
    actualizarEstadisticas();
}

function mostrarPrevisualizacion(mascota) {
    const vistaPrev = document.getElementById("vista-previa");
    vistaPrev.innerHTML = `
        <h4>Mascota Registrada</h4>
        <p><strong>Nombre:</strong> ${mascota.nombre}</p>
        <p><strong>Raza:</strong> ${mascota.raza}</p>
        <p><strong>Edad:</strong> ${mascota.edad}</p>
        <p><strong>Color:</strong> ${mascota.color}</p>
    `;
}

function actualizarEstadisticas() {
    const ctx = document.getElementById("estadisticasCanvas").getContext("2d");
    const total = mascotas.length;

    new Chart(ctx, {
        type: "doughnut",
        data: {
            labels: ["Mascotas Registradas"],
            datasets: [{
                data: [total],
                backgroundColor: ["#4CAF50"]
            }]
        }
    });
}

function loginCliente() {
    const usuario = document.getElementById("usuario").value;
    const password = document.getElementById("password").value;

    if (usuario === "cliente" && password === "1234") {
        const infoMascotas = mascotas.map(m => `
            <p><strong>Nombre:</strong> ${m.nombre}</p>
            <p><strong>Raza:</strong> ${m.raza}</p>
        `).join("");
        document.getElementById("info-mascotas").innerHTML = infoMascotas;
    } else {
        alert("Usuario o contrase√±a incorrectos.");
    }
}
